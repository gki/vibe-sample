# TODO表示PRD

このドキュメントには、TODO表示機能の要件を定義します。

## 概要（概要情報）

### 1. 機能概要

**機能名**: TODO表示

この機能は、登録されているTODO一覧をユーザーに表示する機能です。ユーザーは作成済みのTODOを確認し、各TODOに対して完了、変更、削除の操作を行うことができます。

**機能が提供する価値**: ユーザーが登録したTODOを一覧として確認し、各TODOの状態（未完了/完了）を把握できるようにします。

### 2. 目的と背景

この機能が解決すべき課題を記述します。

- ユーザーが登録したTODOを一覧として確認できるようにする
- TODOの状態（未完了/完了）を視覚的に把握できるようにする
- 各TODOに対して完了、変更、削除の操作を提供する基盤となる表示機能を提供する

## 詳細（具体的な要件）

### 3. 機能要件

#### 機能一覧

このPRDに含まれる機能：

- **TODO一覧表示**: 登録されているTODOをリスト形式で一覧表示する

#### 各機能の詳細仕様

##### TODO一覧表示

**入力**: なし（APIからデータを取得）

**出力**: TODO一覧のUI（リスト形式）

**処理の流れ**:

1. ページ読み込み時、またはTODO作成・更新・削除後に、APIを通じてTODO一覧を取得する
2. 取得したTODO一覧を、表示順序ルールに従ってソートする
3. リスト形式で各TODOを表示する
4. 各TODO項目には、完了ボタン、変更ボタン、削除ボタンを配置する

**条件分岐やエッジケース**:

- TODOが0件の場合: 「TODOがありません」などのメッセージを表示する
- データ取得中の場合: Suspenseのfallback（スケルトンUI）を表示する
- データ取得エラーの場合: エラーメッセージを表示する
- 表示順序: 未完了TODOを先に表示（作成日時降順）、完了TODOを後に表示（作成日時降順）

**表示順序の詳細**:

- 未完了TODO（`completed: false`）をリストの上部に表示
- 完了TODO（`completed: true`）をリストの下部に表示
- 未完了TODO内では、作成日時（`createdAt`）が新しい順（降順）で表示
- 完了TODO内でも、作成日時（`createdAt`）が新しい順（降順）で表示
- ソート処理はクライアント側で実装する

#### ユーザーインターフェース要件（UI/UX要件）

##### 画面構成やレイアウト

- TODO一覧はリスト形式（`<ul>`、`<ol>`、または同等のコンポーネント）で表示する
- 各TODO項目は以下の要素で構成される:
  - TODOのタイトル（`title`）
  - 完了状態の表示（`completed`が`true`の場合は視覚的に完了状態を示す）
  - 完了ボタン
  - 変更ボタン
  - 削除ボタン
- TODO項目間は適切な間隔を設けて視認性を確保する

##### インタラクションの詳細

- ページ読み込み時に自動的にTODO一覧を取得して表示する
- 各TODO項目の完了ボタンをクリックすると、TODO完了登録機能が実行される
- 各TODO項目の変更ボタンをクリックすると、TODO変更機能が実行される
- 各TODO項目の削除ボタンをクリックすると、TODO削除機能が実行される

##### 表示条件や状態遷移

- データ取得中: SuspenseのfallbackとしてスケルトンUIを表示する（共通UI/UXルールに準拠）
- データ取得成功後: TODO一覧をリスト形式で表示する
- データ取得失敗: エラーメッセージを表示する

##### 共通UI/UXルールへの準拠状況

本機能は共通UI/UXルール（`prd-common.md`）に準拠します。

#### データ要件

##### 必要なデータ項目

- TODO一覧データ（APIから取得）
  - `id`: TODOの一意な識別子（整数）
  - `title`: TODOのタイトル（文字列、最大100文字）
  - `completed`: 完了状態（真偽値）
  - `createdAt`: 作成日時（文字列、ISO 8601形式）
  - `updatedAt`: 更新日時（文字列、ISO 8601形式）

##### データの形式や制約

- TODO一覧はAPIを通じて取得する
- 取得したデータは、表示順序ルールに従ってクライアント側でソート処理を行う

##### データの保存方法や取得方法

- データ取得: APIを通じてTODO一覧を取得する
- データは既存のAPIから取得する

#### ビジネス上発生が想定されるエラーパターン

##### ビジネスロジック上のエラーケース

- なし（TODO表示機能はデータ取得と表示のみを行うため、ビジネスロジックエラーは発生しない）

##### ユーザー操作によるエラーケース

- なし（TODO表示機能自体は操作を受け付けない）

##### 通信エラーケース

- **データ取得時の通信エラー**: TODO一覧の取得に失敗した場合
  - 共通UI/UXルールに従い、ブラウザの`alert`でエラーメッセージを表示する
  - エラーメッセージ例: "TODOの取得に失敗しました。ページを再読み込みしてください。"

### 4. 制約事項と前提条件

#### 制約事項

共通PRD（`prd-common.md`）の制約事項に準拠します。
- 表示順序: 未完了TODOを先に、完了TODOを後に表示する

#### 前提条件

前提条件は特にありません。

## 参考情報（補足情報）

### 5. 関連するPRD

#### 依存している機能PRD（この機能が動作するために必要な機能）

- `prd-home.md`: ホーム画面（TODO表示機能を配置する画面）

#### 影響を受ける機能PRD（この機能の実装により変更が必要な機能）

- `prd-todo-complete.md`: TODO完了登録機能（TODO表示上に完了ボタンを配置）
- `prd-todo-update.md`: TODO変更機能（TODO表示上に変更ボタンを配置）
- `prd-todo-delete.md`: TODO削除機能（TODO表示上に削除ボタンを配置）
- `prd-todo-create.md`: TODO作成機能（新規作成されたTODOを一覧に追加表示する必要がある）

#### 共通PRD

- `prd-common.md`: 対象ユーザー、用語集、共通UI/UXルールを参照
